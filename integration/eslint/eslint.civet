civet from '@danielx/civet'

function preprocess(code, filename)
  text := civet.compile code,
    js: true
    sync: true
  [{ text, filename }]

function postprocess(messages, filename)
  [].concat(...messages)

export default {
  meta:
    name: "civet"
    version: civet.version
  processors:
    civet: {
      meta:
        name: "civet"
        version: civet.version
      preprocess
      postprocess
    }
  configs:
    recommended: {}
}
