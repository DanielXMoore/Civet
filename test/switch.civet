{testCase} from ./helper.civet

describe "switch", ->
  testCase """
    basic
    ---
    switch (x) {
      case 1:
        break
    }
    ---
    switch (x) {
      case 1:
        break;
    };
  """

  testCase """
    optional parens
    ---
    switch x {
      case 1:
        break
    }
    ---
    switch (x) {
      case 1:
        break;
    };
  """

  testCase """
    optional braces
    ---
    switch (x)
      case 1:
        break
    ---
    switch (x) {
      case 1:
        break;
    };
  """

  testCase """
    multiple cases
    ---
    switch (x) {
      case 1:
      case 2:
        break
    }
    ---
    switch (x) {
      case 1:
      case 2:
        break;
    };
  """

  testCase """
    default
    ---
    switch (x) {
      default
        break
    }
    ---
    switch (x) {
      default:
        break;
    };
  """

  testCase """
    else
    ---
    switch (x) {
      else
        break
    }
    ---
    switch (x) {
      default:
        break;
    };
  """

  testCase """
    when
    ---
    switch x
      when 1
        console.log y
    ---
    switch (x) {
      case 1:
        console.log(y);break;
    };
  """

  testCase """
    when with multiple expressions
    ---
    switch x
      when 1, 2, 3
        console.log y
    ---
    switch (x) {
      case 1:case 2:case 3:
        console.log(y);break;
    };
  """

  testCase """
    case with multiple expressions
    ---
    switch x
      case 1, 2, 3
        console.log y
    ---
    switch (x) {
      case 1:case 2:case 3:
        console.log(y);
    };
  """
